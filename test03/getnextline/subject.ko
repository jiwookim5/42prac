할당 이름 : get_next_line
예상 파일: get_next_line.c (42_EXAM은 현재 .h를 가져갈 수 없습니다)
허용된 함수: 읽기, 무료, malloc
--------------------------------------------------------------------------------
(null)\n
프로토타입이 되어야 하는 get_next_line이라는 함수를 작성합니다:
char *get_next_line(int fd);


함수는 매개변수로 전달된 파일 설명자에서 읽은 행을 반환해야 합니다. 우리가 "읽은 행"이라고 부르는 것은 '으로 끝나는 0~n자의 연속입니다\n' (ascii 코드 0x0a) 또는 파일 종료(EOF)를 사용합니다.

라인은 '을 포함하여 반환되어야 합니다\n' 행 끝에 읽은 버퍼가 있는 경우. EOF에 도달하면 현재 버퍼를 챠 *에 저장하고 반환해야 합니다. 버퍼가 비어 있으면 NULL을 반환해야 합니다.

오류가 발생할 경우 NULL을 반환합니다. NULL을 반환하지 않는 경우 포인터는 자유롭게 사용할 수 있어야 합니다. 프로그램은 함수에서 읽기 호출의 버퍼 크기로 사용해야 하는 -D BUFFER_SIZE=xx 플래그로 컴파일됩니다.

함수는 메모리 누수가 없어야 합니다. EOF에 도달하면 반환된 회선을 제외한 malloc에 할당된 메모리를 0으로 유지해야 합니다.

따라서 함수 get_next_line()을 루프로 호출하면 텍스트의 크기나 줄 중 하나에 관계없이 파일 디스크립터에서 사용할 수 있는 텍스트를 한 줄씩 읽을 수 있습니다.

파일, 표준 출력, 리디렉션 등에서 함수를 읽을 때 함수가 잘 작동하는지 확인하세요...

파일 디스크립터에서 get_next_line()의 두 호출 사이에 다른 함수에 대한 호출은 수행되지 않습니다. 마지막으로, 이진 파일에서 읽을 때 get_next_line()이 정의되지 않은 동작을 한다는 점을 고려합니다.